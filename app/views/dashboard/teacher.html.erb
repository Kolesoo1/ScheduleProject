<h1>Личный кабинет преподавателя</h1>

<div class="teacher-info">
  <h2>Добро пожаловать, <%= current_user.full_name %>!</h2>
  <p><strong>Должность:</strong> <%= current_user.teacher_profile.position if current_user.teacher_profile %></p>
  <p><strong>Учёная степень:</strong> <%= current_user.teacher_profile.academic_degree if current_user.teacher_profile %></p>
</div>

<div class="my-courses">
  <h3>Мои курсы</h3>

  <% if @courses.any? %>
    <table border="0" cellpadding="8" cellspacing="0">
      <thead>
      <tr>
        <th width="25%">&nbsp;&nbsp;&nbsp;Курс&nbsp;&nbsp;&nbsp;</th>
        <th width="25%">&nbsp;&nbsp;&nbsp;Предмет&nbsp;&nbsp;&nbsp;</th>
        <th width="15%">&nbsp;&nbsp;&nbsp;Семестр&nbsp;&nbsp;&nbsp;</th>
        <th width="15%">&nbsp;&nbsp;&nbsp;Год&nbsp;&nbsp;&nbsp;</th>
        <th width="20%">&nbsp;&nbsp;&nbsp;Студентов&nbsp;&nbsp;&nbsp;</th>
      </tr>
      </thead>
      <tbody>
      <% @courses.each do |course| %>
        <tr>
          <td>&nbsp;&nbsp;&nbsp;<%= course.name %>&nbsp;&nbsp;&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;<%= course.subject.name %>&nbsp;&nbsp;&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;<%= course.semester %>&nbsp;&nbsp;&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;<%= course.year %>&nbsp;&nbsp;&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;<%= course.students.count %>&nbsp;&nbsp;&nbsp;</td>
        </tr>
      <% end %>
      </tbody>
    </table>
  <% else %>
    <p>У вас пока нет курсов для преподавания.</p>
  <% end %>
</div>

<div class="my-schedule">
  <h3>Моё расписание</h3>

  <% if @schedule.any? %>
    <table border="0" cellpadding="8" cellspacing="0">
      <thead>
      <tr>
        <th width="15%">&nbsp;&nbsp;&nbsp;День&nbsp;&nbsp;&nbsp;</th>
        <th width="15%">&nbsp;&nbsp;&nbsp;Время&nbsp;&nbsp;&nbsp;</th>
        <th width="25%">&nbsp;&nbsp;&nbsp;Курс&nbsp;&nbsp;&nbsp;</th>
        <th width="20%">&nbsp;&nbsp;&nbsp;Тип занятия&nbsp;&nbsp;&nbsp;</th>
        <th width="25%">&nbsp;&nbsp;&nbsp;Аудитория&nbsp;&nbsp;&nbsp;</th>
      </tr>
      </thead>
      <tbody>
      <% @schedule.each do |slot| %>
        <tr>
          <td>&nbsp;&nbsp;&nbsp;
            <% if slot.weekday == 1 %>
              Понедельник
            <% elsif slot.weekday == 2 %>
              Вторник
            <% elsif slot.weekday == 3 %>
              Среда
            <% elsif slot.weekday == 4 %>
              Четверг
            <% elsif slot.weekday == 5 %>
              Пятница
            <% else %>
              День <%= slot.weekday %>
            <% end %>
            &nbsp;&nbsp;&nbsp;
          </td>
          <td>&nbsp;&nbsp;&nbsp;<%= slot.start_time.strftime('%H:%M') %> - <%= slot.end_time.strftime('%H:%M') %>&nbsp;&nbsp;&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;<%= slot.course.name %>&nbsp;&nbsp;&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;<%= slot.lesson_type %>&nbsp;&nbsp;&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;<%= slot.classroom.building %>, <%= slot.classroom.number %>&nbsp;&nbsp;&nbsp;</td>
        </tr>
      <% end %>
      </tbody>
    </table>
  <% else %>
    <p>У вас пока нет занятий в расписании.</p>
  <% end %>
</div>

<%#= link_to 'Редактировать профиль', edit_teacher_profile_path, class: 'btn' %>